<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=/images/favicon.png><title>Kicking Nextcloud Cron Script from TrueNAS Cron Job&nbsp;|&nbsp;Today is Tomorrow's Past</title>
<meta name=title content="Kicking Nextcloud Cron Script from TrueNAS Cron Job"><meta name=description content="Kicking Nextcloud Cron Script from TrueNAS Cron Job
Tl;DR
I&rsquo;m running TrueCharts Nextcloud in my TrueNAS SCALE at home. After the setup, I discovered that none of the cron jobs was running. I&rsquo;m using the Nextcloud News App and never saw any new stories. I didn&rsquo;t find a way to make the Nextcloud cron work, so I decided to have a cron job that runs every hour to kick the Nextclodu cron job in the Nextcloud docker container."><meta name=keywords content="TIL,TrueNAS,Nextcloud,Tips,"><meta name=author content="Ingo Richter"><meta property="og:url" content="https://ingo-richter.io/post/2023/kicking-nextcloud-cron-script-from-truenas-cronjob/"><meta property="og:site_name" content="Today is Tomorrow's Past"><meta property="og:title" content="Kicking Nextcloud Cron Script from TrueNAS Cron Job"><meta property="og:description" content="Kicking Nextcloud Cron Script from TrueNAS Cron Job Tl;DR I’m running TrueCharts Nextcloud in my TrueNAS SCALE at home. After the setup, I discovered that none of the cron jobs was running. I’m using the Nextcloud News App and never saw any new stories. I didn’t find a way to make the Nextcloud cron work, so I decided to have a cron job that runs every hour to kick the Nextclodu cron job in the Nextcloud docker container."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2023-02-01T00:00:00-08:00"><meta property="article:modified_time" content="2023-02-01T00:00:00-08:00"><meta property="article:tag" content="TIL"><meta property="article:tag" content="TrueNAS"><meta property="article:tag" content="Nextcloud"><meta property="article:tag" content="Tips"><meta name=twitter:card content="summary"><meta name=twitter:title content="Kicking Nextcloud Cron Script from TrueNAS Cron Job"><meta name=twitter:description content="Kicking Nextcloud Cron Script from TrueNAS Cron Job Tl;DR I’m running TrueCharts Nextcloud in my TrueNAS SCALE at home. After the setup, I discovered that none of the cron jobs was running. I’m using the Nextcloud News App and never saw any new stories. I didn’t find a way to make the Nextcloud cron work, so I decided to have a cron job that runs every hour to kick the Nextclodu cron job in the Nextcloud docker container."><meta itemprop=name content="Kicking Nextcloud Cron Script from TrueNAS Cron Job"><meta itemprop=description content="Kicking Nextcloud Cron Script from TrueNAS Cron Job Tl;DR I’m running TrueCharts Nextcloud in my TrueNAS SCALE at home. After the setup, I discovered that none of the cron jobs was running. I’m using the Nextcloud News App and never saw any new stories. I didn’t find a way to make the Nextcloud cron work, so I decided to have a cron job that runs every hour to kick the Nextclodu cron job in the Nextcloud docker container."><meta itemprop=datePublished content="2023-02-01T00:00:00-08:00"><meta itemprop=dateModified content="2023-02-01T00:00:00-08:00"><meta itemprop=wordCount content="160"><meta itemprop=keywords content="TIL,TrueNAS,Nextcloud,Tips"><meta name=referrer content="no-referrer-when-downgrade"><link href=/bundle.min.css rel=stylesheet><link rel=alternate type=application/rss+xml href=/post/2023/kicking-nextcloud-cron-script-from-truenas-cronjob/index.xml title="Today is Tomorrow's Past"><meta name=fediverse:creator content="@ingorichter@mastodon.social"><script src=/js/scripts.min.js></script></head><body><header><nav><a href=/>Home</a>
<a href=/about/>About</a>
<a href=/resume/resume.pdf>Resume</a>
<a href=/post/>Posts</a>
<a href=/cv19wfh/>CV19WFH</a>
<a href=/wallpaper/>Wallpaper</a>
<a href>Categories</a>
<a href=/index.xml><svg class="icon" viewBox="0 0 448 512"><path d="M0 64C0 46.3 14.3 32 32 32c229.8.0 416 186.2 416 416 0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96 14.3 96 0 81.7.0 64zM0 416a64 64 0 11128 0A64 64 0 110 416zM32 160c159.1.0 288 128.9 288 288 0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224-17.7.0-32-14.3-32-32s14.3-32 32-32z"/></svg>
RSS</a></nav><h1>Kicking Nextcloud Cron Script from TrueNAS Cron Job</h1></header><main><content class=published-date>Published on <time datetime=2023-02-01T00:00:00-08:00>Wednesday, February 1, 2023</time>
</content><content><h1 id=kicking-nextcloud-cron-script-from-truenas-cron-job>Kicking Nextcloud Cron Script from TrueNAS Cron Job</h1><h2 id=tldr>Tl;DR</h2><p>I&rsquo;m running <a href=https://truecharts.org/charts/stable/nextcloud/>TrueCharts Nextcloud</a> in my TrueNAS SCALE at home. After the setup, I discovered that none of the cron jobs was running. I&rsquo;m using the Nextcloud News App and never saw any new stories. I didn&rsquo;t find a way to make the Nextcloud cron work, so I decided to have a cron job that runs every hour to kick the Nextclodu cron job in the Nextcloud docker container.</p><h2 id=setup>Setup</h2><p>After reading how to trigger the <a href=https://www.truenas.com/community/threads/nextcloud-preview-generator.96870/>Nextcloud Preview generator</a> manually, I thought this approach would help me to solve my problem with the cron job and the missing News App updates.</p><p>After some experimenting, I came up with this docker command.</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">1</span><span>/usr/bin/docker <span style=color:#89dceb>exec</span> -t --user <span style=color:#fab387>33</span> <span style=color:#cba6f7>$(</span>docker ps -qf <span style=color:#a6e3a1>&#34;name=k8s_nextcloud_nextcloud&#34;</span><span style=color:#cba6f7>)</span> /usr/local/bin/php cron.php</span></span></code></pre></div><p>Once I verified that the script was working for me, I created a cron job in TrueNAS to execute this script every hour.</p><figure><img class=lazyload data-src=/post/2023/kicking-nextcloud-cron-script-from-truenas-cronjob/cronjob-truenas.png data-srcset="/post/2023/kicking-nextcloud-cron-script-from-truenas-cronjob/cronjob-truenas_hu_373e16c1797ba329.png 20w, /post/2023/kicking-nextcloud-cron-script-from-truenas-cronjob/cronjob-truenas_hu_8816fa7ed0fd0d37.png 320w, /post/2023/kicking-nextcloud-cron-script-from-truenas-cronjob/cronjob-truenas_hu_4901d973f5be33c9.png 480w, /post/2023/kicking-nextcloud-cron-script-from-truenas-cronjob/cronjob-truenas_hu_a886038fa5646916.png 768w, /post/2023/kicking-nextcloud-cron-script-from-truenas-cronjob/cronjob-truenas_hu_20cd9cfbfa36cdca.png 1024w, /post/2023/kicking-nextcloud-cron-script-from-truenas-cronjob/cronjob-truenas_hu_2672fb7111f01f3f.png 1280w, /post/2023/kicking-nextcloud-cron-script-from-truenas-cronjob/cronjob-truenas_hu_a84f7ce3c87ad5f9.png 1600w, /post/2023/kicking-nextcloud-cron-script-from-truenas-cronjob/cronjob-truenas_hu_fe187e30b9ec69de.png 1920w" alt="TrueNAS Cron Job Configuration"><figcaption>TrueNAS Cron Job Configuration</figcaption></figure><details><summary>Shot Details</summary><ul></ul></details></content><p><a href=/blog/til/>#TIL</a>&nbsp;&nbsp;
<a href=/blog/truenas/>#TrueNAS</a>&nbsp;&nbsp;
<a href=/blog/nextcloud/>#Nextcloud</a>&nbsp;&nbsp;
<a href=/blog/tips/>#Tips</a>&nbsp;&nbsp;</p><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//ingorichterio.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></main><footer><span>© 2025 Ingo Richter</span>
<span>|
Made with
<a href=https://github.com/maolonglong/hugo-simple/>Hugo ʕ•ᴥ•ʔ Simple</a></span></footer><script id=analytics async src=https://umami.familie-richter.de/script.js data-website-id=98a5f2cb-a53b-4d84-9133-bac4957e9e9f></script></body></html>