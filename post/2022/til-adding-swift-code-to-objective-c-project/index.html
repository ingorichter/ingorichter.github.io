<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=/images/favicon.png><title>TIL - Adding Swift Code to Objective-C Project&nbsp;|&nbsp;Today is Tomorrow's Past</title><meta name=title content="TIL - Adding Swift Code to Objective-C Project"><meta name=description content="TL;DR
Adding Swift Code to Objective-C Project

Ensure your Swift class derives direct or indirect from NSObject
Ensure your Swift class is public to ensure the YourProjectName-Swift.h header generation
Prefix the class to expose it to Objective-C. Any Property or method needs its own @objc annotation to be visible from Objective-C.
Use the @objcMembers annotation to expose all properties and methods of the Swift class

Reminder for myself
I learned a couple of essential things about mixing Objective-C and Swift in one project.
I was using Swift for unit tests already, and that worked fine.
Now, I wanted to implement a new class in Swift. But I wanted to use that class in an existing Objective-C class."><meta name=keywords content="TIL,Swift,Objective-C,iOS,"><meta name=author content="Ingo Richter"><meta property="og:url" content="https://ingo-richter.io/post/2022/til-adding-swift-code-to-objective-c-project/"><meta property="og:site_name" content="Today is Tomorrow's Past"><meta property="og:title" content="TIL - Adding Swift Code to Objective-C Project"><meta property="og:description" content="TL;DR Adding Swift Code to Objective-C Project
Ensure your Swift class derives direct or indirect from NSObject Ensure your Swift class is public to ensure the YourProjectName-Swift.h header generation Prefix the class to expose it to Objective-C. Any Property or method needs its own @objc annotation to be visible from Objective-C. Use the @objcMembers annotation to expose all properties and methods of the Swift class Reminder for myself I learned a couple of essential things about mixing Objective-C and Swift in one project. I was using Swift for unit tests already, and that worked fine. Now, I wanted to implement a new class in Swift. But I wanted to use that class in an existing Objective-C class."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-02-28T00:00:00-08:00"><meta property="article:modified_time" content="2022-02-28T00:00:00-08:00"><meta property="article:tag" content="TIL"><meta property="article:tag" content="Swift"><meta property="article:tag" content="Objective-C"><meta property="article:tag" content="iOS"><meta name=twitter:card content="summary"><meta name=twitter:title content="TIL - Adding Swift Code to Objective-C Project"><meta name=twitter:description content="TL;DR Adding Swift Code to Objective-C Project
Ensure your Swift class derives direct or indirect from NSObject Ensure your Swift class is public to ensure the YourProjectName-Swift.h header generation Prefix the class to expose it to Objective-C. Any Property or method needs its own @objc annotation to be visible from Objective-C. Use the @objcMembers annotation to expose all properties and methods of the Swift class Reminder for myself I learned a couple of essential things about mixing Objective-C and Swift in one project. I was using Swift for unit tests already, and that worked fine. Now, I wanted to implement a new class in Swift. But I wanted to use that class in an existing Objective-C class."><meta itemprop=name content="TIL - Adding Swift Code to Objective-C Project"><meta itemprop=description content="TL;DR Adding Swift Code to Objective-C Project
Ensure your Swift class derives direct or indirect from NSObject Ensure your Swift class is public to ensure the YourProjectName-Swift.h header generation Prefix the class to expose it to Objective-C. Any Property or method needs its own @objc annotation to be visible from Objective-C. Use the @objcMembers annotation to expose all properties and methods of the Swift class Reminder for myself I learned a couple of essential things about mixing Objective-C and Swift in one project. I was using Swift for unit tests already, and that worked fine. Now, I wanted to implement a new class in Swift. But I wanted to use that class in an existing Objective-C class."><meta itemprop=datePublished content="2022-02-28T00:00:00-08:00"><meta itemprop=dateModified content="2022-02-28T00:00:00-08:00"><meta itemprop=wordCount content="602"><meta itemprop=keywords content="TIL,Swift,Objective-C,iOS"><meta name=referrer content="no-referrer-when-downgrade"><link href=/bundle.min.css rel=stylesheet><link rel=alternate type=application/rss+xml href=/post/2022/til-adding-swift-code-to-objective-c-project/index.xml title="Today is Tomorrow's Past"><meta name=fediverse:creator content="@ingorichter@mastodon.social"><script src=/js/scripts.min.js></script></head><body><header><nav><a href=/>Home</a>
<a href=/about/>About</a>
<a href=/resume/resume.pdf>Resume</a>
<a href=/post/>Posts</a>
<a href=/cv19wfh/>CV19WFH</a>
<a href=/wallpaper/>Wallpaper</a>
<a href>Categories</a>
<a href>Now</a>
<a href=/index.xml><svg class="icon" viewBox="0 0 448 512"><path d="M0 64C0 46.3 14.3 32 32 32c229.8.0 416 186.2 416 416 0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96 14.3 96 0 81.7.0 64zM0 416a64 64 0 11128 0A64 64 0 110 416zM32 160c159.1.0 288 128.9 288 288 0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224-17.7.0-32-14.3-32-32s14.3-32 32-32z"/></svg>
RSS</a></nav><h1>TIL - Adding Swift Code to Objective-C Project</h1></header><main><content class=published-date>Published on <time datetime=2022-02-28T00:00:00-08:00>Monday, February 28, 2022</time>
</content><a href=/post/2022/til-adding-swift-code-to-objective-c-project/ class=image style="--bg-image:url('https://ingo-richter.io/post/2022/til-adding-swift-code-to-objective-c-project/NevadaFallsYosemite.jpg')"><img class=stretchH src=https://ingo-richter.io/post/2022/til-adding-swift-code-to-objective-c-project/NevadaFallsYosemite.jpg alt="Nevada Falls in Yosemite as seen from above">
</a><content><h2 id=tldr>TL;DR</h2><p>Adding Swift Code to Objective-C Project</p><ol><li>Ensure your Swift class derives direct or indirect from NSObject</li><li>Ensure your Swift class is <code>public</code> to ensure the <code>YourProjectName-Swift.h</code> header generation</li><li>Prefix the class to expose it to Objective-C. Any Property or method needs its own <code>@objc</code> annotation to be visible from Objective-C.</li><li>Use the <code>@objcMembers</code> annotation to expose all properties and methods of the Swift class</li></ol><h2 id=reminder-for-myself>Reminder for myself</h2><p>I learned a couple of essential things about mixing Objective-C and Swift in one project.
I was using Swift for unit tests already, and that worked fine.
Now, I wanted to implement a new class in Swift. But I wanted to use that class in an existing Objective-C class.</p><p>So far, so good. There is a lot of information on the internet about transitioning your Objective-C codebase to Swift. Everything I found looked pretty straightforward, and I wasn‚Äôt expecting a time sink by adding a simple Swift class to the project. But here we go‚Ä¶
I created the new Swift class <code>WithLoveFromSwift</code> with one method, <code>saySomethingNice</code>. Pretty simple as a starting point.</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">1</span><span><span style=color:#f38ba8>class</span> <span style=color:#f9e2af>WithLoveFromSwift</span> {
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">2</span><span>    <span style=color:#f38ba8>func</span> <span style=color:#89b4fa>saySomethingNice</span>() {
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">3</span><span>        <span style=color:#cba6f7>return</span> <span style=color:#a6e3a1>&#34;Hello from Swift ‚ù§Ô∏è&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">4</span><span>    }
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">5</span><span>}</span></span></code></pre></div><p>I wanted to add that Swift class to the existing Objective-C implementation in the next step. And that‚Äôs where the problems started. I read that I have to add <code>#import FancyGreeterApp-Swift.h</code> in my Objective-C file to use the new Swift class. And that file is not created by XCode so that you can easily find it. But it will be there once you start compiling. They said. But it didn‚Äôt work. The import was causing an error, and the shiny new class didn‚Äôt appear in the code completion proposals.</p><p>I spent a reasonable amount of time checking my project settings and other things I might have missed. It seemed that others had this problem too, and I wasn‚Äôt alone. But this didn‚Äôt help me resolve the issue.</p><p>After more reading and confusion, I finally saw some slightly different code that deviated from mine. Their Swift class was public! Guess what? After adding public to my Swift class and compiling, the error regarding the import statement went away. Really? Public? That‚Äôs all that was missing?</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">1</span><span><span style=color:#cba6f7>@objc</span> <span style=color:#f38ba8>public</span> <span style=color:#f38ba8>class</span> <span style=color:#f9e2af>WithLoveFromSwift</span> {
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">2</span><span>    <span style=color:#f38ba8>func</span> <span style=color:#89b4fa>saySomethingNice</span>() {
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">3</span><span>        <span style=color:#cba6f7>return</span> <span style=color:#a6e3a1>&#34;Hello from Swift ‚ù§Ô∏è&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">4</span><span>    }
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">5</span><span>}</span></span></code></pre></div><p>Anyway, it was compiling, and that was the most important thing.</p><p>Now on to the next issue: my shiny class has a property <code>greetingLanguage</code>. This property should be accessible from Objective-C to set the language before creating a greeting. But the compiler once again was complaining that this property didn‚Äôt exist. Okay, I‚Äôm confused again. The property was public, in a public class. What else is needed?</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 1</span><span><span style=color:#cba6f7>@objc</span> <span style=color:#f38ba8>public</span> <span style=color:#f38ba8>class</span> <span style=color:#f9e2af>WithLoveFromSwift</span> {
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 2</span><span>    <span style=color:#f38ba8>public</span> <span style=color:#f38ba8>var</span> <span style=color:#f5e0dc>greetingLanguage</span> = <span style=color:#a6e3a1>&#34;en&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 3</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 4</span><span>    <span style=color:#f38ba8>func</span> <span style=color:#89b4fa>saySomethingNice</span>() {
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 5</span><span>        <span style=color:#cba6f7>if</span> greetingLanguage == <span style=color:#a6e3a1>&#34;de&#34;</span> {
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 6</span><span>            <span style=color:#cba6f7>return</span> <span style=color:#a6e3a1>&#34;Hallo Swift ‚ù§Ô∏è&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 7</span><span>        } <span style=color:#cba6f7>else</span> {
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 8</span><span>            <span style=color:#cba6f7>return</span> <span style=color:#a6e3a1>&#34;Hello Swift ‚ù§Ô∏è&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 9</span><span>        }
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">10</span><span>    }
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">11</span><span>}</span></span></code></pre></div><p>It turns out the <code>@objc</code> annotation at the class level exposed just the Swift class. If you want to expose the properties too, or some other methods, then you either have to prefix every property with <code>@objc</code> or you can use the <code>@objcMembers</code> annotation to enable access to all properties and methods of the Swift class.</p><p>Okay, now I got it üëçüèº</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 1</span><span>@objcMembers <span style=color:#f38ba8>public</span> <span style=color:#f38ba8>class</span> <span style=color:#f9e2af>WithLoveFromSwift</span> {
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 2</span><span>    <span style=color:#f38ba8>public</span> <span style=color:#f38ba8>var</span> <span style=color:#f5e0dc>greetingLanguage</span> = <span style=color:#a6e3a1>&#34;en&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 3</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 4</span><span>    <span style=color:#f38ba8>func</span> <span style=color:#89b4fa>saySomethingNice</span>() {
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 5</span><span>        <span style=color:#cba6f7>if</span> greetingLanguage == <span style=color:#a6e3a1>&#34;de&#34;</span> {
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 6</span><span>            <span style=color:#cba6f7>return</span> <span style=color:#a6e3a1>&#34;Hallo Swift ‚ù§Ô∏è&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 7</span><span>        } <span style=color:#cba6f7>else</span> {
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 8</span><span>            <span style=color:#cba6f7>return</span> <span style=color:#a6e3a1>&#34;Hello Swift ‚ù§Ô∏è&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 9</span><span>        }
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">10</span><span>    }
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">11</span><span>}</span></span></code></pre></div><p>Thanks for reading</p></content><p><a href=/blog/til/>#TIL</a>&nbsp;&nbsp;
<a href=/blog/swift/>#Swift</a>&nbsp;&nbsp;
<a href=/blog/objective-c/>#Objective-C</a>&nbsp;&nbsp;
<a href=/blog/ios/>#iOS</a>&nbsp;&nbsp;</p><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//ingorichterio.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></main><footer><span>¬© 2025 Ingo Richter</span>
<span>|
Made with
<a href=https://github.com/maolonglong/hugo-simple/>Hugo  ï‚Ä¢·¥•‚Ä¢ î Simple</a></span></footer><script id=analytics async src=https://umami.familie-richter.de/script.js data-website-id=98a5f2cb-a53b-4d84-9133-bac4957e9e9f></script></body></html>