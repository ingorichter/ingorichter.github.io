<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=/images/favicon.png><title>Manage Multiple Git Identities With Conditional Includes&nbsp;|&nbsp;Today is Tomorrow's Past</title><meta name=title content="Manage Multiple Git Identities With Conditional Includes"><meta name=description content="Simplify working with multiple git identities and contexts by automating the identity selection."><meta name=keywords content="TIL,git,"><meta name=author content="Ingo Richter"><meta property="og:url" content="https://ingo-richter.io/post/2025/manage-multiple-git-identities-with-conditional-includes/"><meta property="og:site_name" content="Today is Tomorrow's Past"><meta property="og:title" content="Manage Multiple Git Identities With Conditional Includes"><meta property="og:description" content="Simplify working with multiple git identities and contexts by automating the identity selection."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2025-06-05T22:31:24-07:00"><meta property="article:modified_time" content="2025-06-05T22:31:24-07:00"><meta property="article:tag" content="TIL"><meta property="article:tag" content="Git"><meta name=twitter:card content="summary"><meta name=twitter:title content="Manage Multiple Git Identities With Conditional Includes"><meta name=twitter:description content="Simplify working with multiple git identities and contexts by automating the identity selection."><meta itemprop=name content="Manage Multiple Git Identities With Conditional Includes"><meta itemprop=description content="Simplify working with multiple git identities and contexts by automating the identity selection."><meta itemprop=datePublished content="2025-06-05T22:31:24-07:00"><meta itemprop=dateModified content="2025-06-05T22:31:24-07:00"><meta itemprop=wordCount content="791"><meta itemprop=keywords content="TIL,Git"><meta name=referrer content="no-referrer-when-downgrade"><link href=/bundle.min.css rel=stylesheet><link rel=alternate type=application/rss+xml href=/post/2025/manage-multiple-git-identities-with-conditional-includes/index.xml title="Today is Tomorrow's Past"><meta name=fediverse:creator content="@ingorichter@mastodon.social"><script src=/js/scripts.min.js></script></head><body><header><nav><a href=/>Home</a>
<a href=/about/>About</a>
<a href=/resume/resume.pdf>Resume</a>
<a href=/post/>Posts</a>
<a href=/cv19wfh/>CV19WFH</a>
<a href=/wallpaper/>Wallpaper</a>
<a href>Categories</a>
<a href=/now/>Now</a>
<a href=/index.xml><svg class="icon" viewBox="0 0 448 512"><path d="M0 64C0 46.3 14.3 32 32 32c229.8.0 416 186.2 416 416 0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96 14.3 96 0 81.7.0 64zM0 416a64 64 0 11128 0A64 64 0 110 416zM32 160c159.1.0 288 128.9 288 288 0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224-17.7.0-32-14.3-32-32s14.3-32 32-32z"/></svg>
RSS</a></nav><h1>Manage Multiple Git Identities With Conditional Includes</h1><p>Simplify working with multiple git identities and contexts by automating the identity selection.</p></header><main><content class=published-date>Published on <time datetime=2025-06-05T22:31:24-07:00>Thursday, June 5, 2025</time>
</content><a href=/post/2025/manage-multiple-git-identities-with-conditional-includes/ class=image style="--bg-image:url('https://ingo-richter.io/post/2025/manage-multiple-git-identities-with-conditional-includes/A_digital_illustration_of_a_large_deciduous_tree_i.png')"><img class=stretchH src=https://ingo-richter.io/post/2025/manage-multiple-git-identities-with-conditional-includes/A_digital_illustration_of_a_large_deciduous_tree_i.png alt="AI generated illustration of git">
</a><content><h2 id=managing-multiple-git-identities-with-conditional-includes>Managing Multiple Git Identities with Conditional Includes</h2><p>As developers, we often work across different contexts - personal projects, open source contributions, and work repositories. Each context might require a different Git identity (name, email, and signing key). Manually switching between these identities is error-prone and tedious.</p><p>In this post, I&rsquo;ll share how I&rsquo;ve solved this problem using <a href=https://git-scm.com/docs/git-config.html#_conditional_includes title="Conditional Includes">Git&rsquo;s conditional includes feature</a>, which has dramatically simplified my workflow and prevented embarrassing identity mix-ups.</p><h2 id=the-problem>The Problem</h2><p>When working across different repositories, you might need different identities:</p><ul><li><strong>Work repositories</strong>: Your corporate email and signing key</li><li><strong>Open source contributions</strong>: Your personal email or a project-specific one</li><li><strong>Personal projects</strong>: Your personal identity</li></ul><p>Without automation, you&rsquo;d need to remember to run <code>git config</code> commands each time you switch contexts, which is both annoying and error-prone. And I usually forget to do it, resulting in commits with the wrong identity/email address.</p><h2 id=the-solution-conditional-includes>The Solution: Conditional Includes</h2><p>Git offers a powerful feature called <a href=https://git-scm.com/docs/git-config.html#_conditional_includes title="Conditional Includes">conditional includes</a> that lets you include specific configuration files based on conditions like:</p><ol><li>The path of the repository (<code>gitdir</code>)</li><li>The remote URL of the repository (<code>hasconfig:remote.*.url</code>)</li></ol><p>This allows you to automatically apply the right identity based on where a repository is located or which remote it&rsquo;s connected to.</p><blockquote><p>The included configuration file can contain other things like name, email, and signing key. This is only what I&rsquo;m using in my setup. But you can overwrite many of the git config options if you deem it necessary.</p></blockquote><h2 id=my-setup>My Setup</h2><p>Here&rsquo;s how I&rsquo;ve structured my Git identity management:</p><h3 id=1-base-configuration>1. Base Configuration</h3><p>My main <code>.gitconfig</code> has a default identity and sets <code>useConfigOnly = true</code> to prevent Git from guessing my identity:</p><pre tabindex=0><code class=language-gitconfig data-lang=gitconfig>[user]
    useConfigOnly = true
    name = Ingo Richter
    email = ingo.richter+github@gmail.com</code></pre><h3 id=2-separate-identity-files>2. Separate Identity Files</h3><p>I maintain separate files for different contexts:</p><ul><li><code>~/.dotfiles/git/github.gitconfig</code> - Personal GitHub identity</li><li><code>~/.dotfiles/git/github-corp.gitconfig</code> - Work GitHub identity</li><li><code>~/.dotfiles/git/gitcorp.gitconfig</code> - Internal corporate Git identity</li></ul><p>Each file contains the appropriate user settings:</p><pre tabindex=0><code class=language-gitconfig data-lang=gitconfig># Personal GitHub (~/.dotfiles/git/github.gitconfig)
[user]
    name = Ingo Richter
    email = ingo.richter+github@gmail.com
    signingkey = 47179020517973BE

# Work GitHub (~/.dotfiles/git/github-corp.gitconfig)
[user]
    name = Ingo Richter
    email = irichter@work.com
    signingkey = DA67F86E8421C7A5</code></pre><h3 id=3-conditional-includes-based-on-remote-urls>3. Conditional Includes Based on Remote URLs</h3><p>This is something that I&rsquo;ve found out recently, after we moved some of our work repos to GHEC and some repos stayed on the hosted internal git instance.
Now, I had to distinguish between work.corp and github.com repos. But I also had some personal/open source repos that were also on github.com. Now, I had an issue with my identities, since the path-based conditional include didn&rsquo;t work anymore for me. I keep all my work-related repos in a directory <code>work</code>. But, now there were repos hosted on work.corp and github.com. I didn&rsquo;t wanted the github.com repos select my personal identity. So, I was looking for a way to find another way to automatically select the correct identity. And that is when Remote URLs came into the picture.</p><p>The most powerful approach is using remote URL patterns to determine identity:</p><pre tabindex=0><code class=language-gitconfig data-lang=gitconfig># Corporate GitHub repositories
[includeIf &#34;hasconfig:remote.*.url:https://github.com/adobe/**&#34;]
    path = ~/.dotfiles/git/github-corp.gitconfig

[includeIf &#34;hasconfig:remote.*.url:git@github.com:adobe/**&#34;]
    path = ~/.dotfiles/git/github-corp.gitconfig

# Personal GitHub (fallback for other github.com repos)
[includeIf &#34;hasconfig:remote.*.url:https://github.com/**&#34;]
    path = ~/.dotfiles/git/github.gitconfig

[includeIf &#34;hasconfig:remote.*.url:git@github.com:*/**&#34;]
    path = ~/.dotfiles/git/github.gitconfig

# Internal corporate Git
[includeIf &#34;hasconfig:remote.*.url:https://work.corp/**&#34;]
    path = ~/.dotfiles/git/gitcorp.gitconfig</code></pre><h3 id=4-path-based-fallbacks>4. Path-Based Fallbacks</h3><p>The path-based approach works perfectly for my personal projects. Since they reside in a separate directory, the identity switch doesn&rsquo;t need to consider any remote repositories.</p><p>However, if there are any other repositories in <code>~/develop/work/repos</code> that don&rsquo;t match any of the remote repository checks, the <code>github-corp.gitconfig</code> will be selected.</p><pre tabindex=0><code class=language-gitconfig data-lang=gitconfig>[includeIf &#34;gitdir:~/develop/fun/&#34;]
    path = ~/.dotfiles/git/github.gitconfig

[includeIf &#34;gitdir:~/develop/work/repos/&#34;]
    path = ~/.dotfiles/git/github-corp.gitconfig</code></pre><h2 id=bonus-identity-switching-command>Bonus: Identity Switching Command</h2><p>Before I&rsquo;ve learnt about the conditional include, I&rsquo;ve created a Git alias to manually switch identities when needed:</p><pre tabindex=0><code class=language-gitconfig data-lang=gitconfig>[alias]
    identity = &#34;! git config user.name \&#34;$(git config user.$1.name)\&#34;; git config user.email \&#34;$(git config user.$1.email)\&#34;; git config user.signingkey \&#34;$(git config user.$1.signingkey)\&#34;; :&#34;</code></pre><p>This lets me run <code>git identity work</code> or <code>git identity personal</code> to switch profiles.</p><h2 id=important-notes>Important Notes</h2><ol><li><strong>Order matters</strong>: Git processes conditional includes in order, with later matches overriding earlier ones.</li><li><strong>Remote URL patterns</strong> (<code>hasconfig</code>) require Git 2.36+.</li><li><strong>Path patterns</strong> (<code>gitdir</code>) are processed before remote URL patterns.</li><li>Set <code>useConfigOnly = true</code> to prevent Git from guessing your identity.</li></ol><h2 id=conclusion>Conclusion</h2><p>This setup has saved me countless hours and prevented embarrassing identity mix-ups. The best part is that it&rsquo;s completely automatic - I clone a repo, and Git automatically applies the right identity based on its location or remote URL.</p><p>For developers working across multiple contexts, I highly recommend setting up conditional includes to manage your Git identities. It&rsquo;s a small investment that pays off every day.</p><hr><p>I hope this helps you out in some way. How do you manage multiple Git identities? Let me know in the comments!</p><p>Thanks for reading
Mahalo 🌸</p></content><p><a href=/blog/til/>#TIL</a>&nbsp;&nbsp;
<a href=/blog/git/>#Git</a>&nbsp;&nbsp;</p><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//ingorichterio.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></main><footer><span>© 2025 Ingo Richter</span>
<span>|
Made with
<a href=https://github.com/maolonglong/hugo-simple/>Hugo ʕ•ᴥ•ʔ Simple</a></span></footer><script id=analytics async src=https://umami.familie-richter.de/script.js data-website-id=98a5f2cb-a53b-4d84-9133-bac4957e9e9f></script></body></html>