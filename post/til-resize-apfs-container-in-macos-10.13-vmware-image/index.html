<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=/images/favicon.png><title>Resize APFS Container in macOS 10.13 VMWare Image&nbsp;|&nbsp;Today is Tomorrow's Past</title><meta name=title content="Resize APFS Container in macOS 10.13 VMWare Image"><meta name=description content="Resize APFS VoContainerlume in macOS 10.13 VMWare Image"><meta name=keywords content="TIL,VMWare,Tricks,Notes,"><meta name=author content="Ingo Richter"><meta property="og:url" content="https://ingo-richter.io/post/til-resize-apfs-container-in-macos-10.13-vmware-image/"><meta property="og:site_name" content="Today is Tomorrow's Past"><meta property="og:title" content="Resize APFS Container in macOS 10.13 VMWare Image"><meta property="og:description" content="Resize APFS VoContainerlume in macOS 10.13 VMWare Image"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2018-03-07T22:45:27-07:00"><meta property="article:modified_time" content="2018-03-07T22:45:27-07:00"><meta property="article:tag" content="TIL"><meta property="article:tag" content="VMWare"><meta property="article:tag" content="Tricks"><meta property="article:tag" content="Notes"><meta name=twitter:card content="summary"><meta name=twitter:title content="Resize APFS Container in macOS 10.13 VMWare Image"><meta name=twitter:description content="Resize APFS VoContainerlume in macOS 10.13 VMWare Image"><meta itemprop=name content="Resize APFS Container in macOS 10.13 VMWare Image"><meta itemprop=description content="Resize APFS VoContainerlume in macOS 10.13 VMWare Image"><meta itemprop=datePublished content="2018-03-07T22:45:27-07:00"><meta itemprop=dateModified content="2018-03-07T22:45:27-07:00"><meta itemprop=wordCount content="414"><meta itemprop=keywords content="TIL,VMWare,Tricks,Notes"><meta name=referrer content="no-referrer-when-downgrade"><link href=/bundle.min.css rel=stylesheet><link rel=alternate type=application/rss+xml href=/post/til-resize-apfs-container-in-macos-10.13-vmware-image/index.xml title="Today is Tomorrow's Past"><meta name=fediverse:creator content="@ingorichter@mastodon.social"><script src=/js/scripts.min.js></script></head><body><header><nav><a href=/>Home</a>
<a href=/about/>About</a>
<a href=/resume/resume.pdf>Resume</a>
<a href=/post/>Posts</a>
<a href=/cv19wfh/>CV19WFH</a>
<a href=/wallpaper/>Wallpaper</a>
<a href>Categories</a>
<a href=/index.xml><svg class="icon" viewBox="0 0 448 512"><path d="M0 64C0 46.3 14.3 32 32 32c229.8.0 416 186.2 416 416 0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96 14.3 96 0 81.7.0 64zM0 416a64 64 0 11128 0A64 64 0 110 416zM32 160c159.1.0 288 128.9 288 288 0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224-17.7.0-32-14.3-32-32s14.3-32 32-32z"/></svg>
RSS</a></nav><h1>Resize APFS Container in macOS 10.13 VMWare Image</h1><p>Resize APFS VoContainerlume in macOS 10.13 VMWare Image</p></header><main><content class=published-date>Published on <time datetime=2018-03-07T22:45:27-07:00>Wednesday, March 7, 2018</time>
</content><content><h2 id=resize-vmware-disk-size>Resize VMWare Disk size</h2><p>VMWare provides an option to resize the Hard disk of a VM. The Settings dialog provides this option under <strong>Hard Disk</strong>.
If the VM is not running and you don&rsquo;t have a snapshot, the slider is enabled, and you can size the disk to your desired size.</p><p>I wanted to increase the size of the hard disk from 50 GB to 100 GB. That&rsquo;s a matter of seconds, and I was ready to go.</p><p>I&rsquo;ve launched the VM image and checked the hard disk size. To my surprise, the size was still 50 GB and not the promised 100 GB.</p><h2 id=what-happened>What happened</h2><p>The request to change the hard disk size didn&rsquo;t make it to macOS. I started to examine the disk with <code>diskutil</code>.</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 1</span><span>lab-vm: user$ diskutil list
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 2</span><span>/dev/disk0 <span style=color:#89dceb;font-weight:700>(</span>internal, physical<span style=color:#89dceb;font-weight:700>)</span>:
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 3</span><span>   <span style=color:#6c7086;font-style:italic>#:                       TYPE NAME                    SIZE       IDENTIFIER</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 4</span><span>   0:      GUID_partition_scheme                        *107.4 GB   disk0
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 5</span><span>   1:                        EFI EFI                     209.7 MB   disk0s1
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 6</span><span>   2:                 Apple_APFS Container disk1          50.2 GB   disk0s2
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 7</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 8</span><span>/dev/disk1 <span style=color:#89dceb;font-weight:700>(</span>synthesized<span style=color:#89dceb;font-weight:700>)</span>:
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c"> 9</span><span>   <span style=color:#6c7086;font-style:italic>#:                       TYPE NAME                    SIZE       IDENTIFIER</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">10</span><span>   0:      APFS Container Scheme -                       +50.2 GB   disk1
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">11</span><span>                                 Physical Store disk0s2
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">12</span><span>   1:                APFS Volume macOS 10.13             23.2 GB    disk1s1
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">13</span><span>   2:                APFS Volume Preboot                 18.6 MB    disk1s2
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">14</span><span>   3:                APFS Volume Recovery                509.8 MB   disk1s3
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">15</span><span>   4:                APFS Volume VM                      20.5 KB    disk1s4</span></span></code></pre></div><p>Well, the size was changed successfully. That&rsquo;s good to see. But the reported size for the disk was still 50 GB.
I noticed the <strong>Container disk1</strong>. This one had the reported size of 50 GB. It looks like; this has to be changed to make use of all the available space of that hard disk.
After reading a little bit about APFS and how to deal with APFS, I learned that the hard disk is called a Volume. A Volume can have multiple containers.</p><p>I found this command to change the size of the container to grow and use all the available space of the Volume (I had sweaty palms)</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">1</span><span>diskutil apfs resizeContainer /dev/disk1 <span style=color:#fab387>0</span></span></span></code></pre></div><p>Break down of the command, and its arguments,</p><ul><li>diskutil apfs => tell diskutil that we are gonna modify something that has an APFS filesystem</li><li>resizeContainer /dev/disk1 0 => resize container /dev/disk1 and grow to the maximum available space (0)</li></ul><p>Not bad! That worked smoother than expected. Now I have the full 100 GB available and can continue filling it up. :-)</p><p>Thanks for reading. I hope it&rsquo;s helpful.</p><p>Feel free to share and leave a comment. I&rsquo;m happy to learn about your experience.</p></content><p><a href=/blog/til/>#TIL</a>&nbsp;&nbsp;
<a href=/blog/vmware/>#VMWare</a>&nbsp;&nbsp;
<a href=/blog/tricks/>#Tricks</a>&nbsp;&nbsp;
<a href=/blog/notes/>#Notes</a>&nbsp;&nbsp;</p><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//ingorichterio.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></main><footer><span>© 2025 Ingo Richter</span>
<span>|
Made with
<a href=https://github.com/maolonglong/hugo-simple/>Hugo ʕ•ᴥ•ʔ Simple</a></span></footer><script id=analytics async src=https://umami.familie-richter.de/script.js data-website-id=98a5f2cb-a53b-4d84-9133-bac4957e9e9f></script></body></html>