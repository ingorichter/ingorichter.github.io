<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://ingo-richter.io/images/favicon.png><title>Effective Git - Worktrees&nbsp;|&nbsp;Today is Tomorrow's Past</title><meta name=title content="Effective Git - Worktrees"><meta name=description content="Worktrees can save time switching between different feature branches"><meta name=keywords content="Git,Programming,Tips,Tricks,Tools,TIL,"><meta name=author content="Ingo Richter"><meta property="og:url" content="https://ingo-richter.io/post/effective-git---worktrees/"><meta property="og:site_name" content="Today is Tomorrow's Past"><meta property="og:title" content="Effective Git - Worktrees"><meta property="og:description" content="Worktrees can save time switching between different feature branches"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2017-05-10T21:19:27-07:00"><meta property="article:modified_time" content="2017-05-10T21:19:27-07:00"><meta property="article:tag" content="Git"><meta property="article:tag" content="Programming"><meta property="article:tag" content="Tips"><meta property="article:tag" content="Tricks"><meta property="article:tag" content="Tools"><meta property="article:tag" content="TIL"><meta name=twitter:card content="summary"><meta name=twitter:title content="Effective Git - Worktrees"><meta name=twitter:description content="Worktrees can save time switching between different feature branches"><meta itemprop=name content="Effective Git - Worktrees"><meta itemprop=description content="Worktrees can save time switching between different feature branches"><meta itemprop=datePublished content="2017-05-10T21:19:27-07:00"><meta itemprop=dateModified content="2017-05-10T21:19:27-07:00"><meta itemprop=wordCount content="406"><meta itemprop=keywords content="Git,Programming,Tips,Tricks,Tools,TIL"><meta name=referrer content="no-referrer-when-downgrade"><link href=https://ingo-richter.io/bundle.min.css rel=stylesheet><link rel=alternate type=application/rss+xml href=https://ingo-richter.io/post/effective-git---worktrees/index.xml title="Today is Tomorrow's Past"><meta name=fediverse:creator content="@ingorichter@mastodon.social"><script src=https://ingo-richter.io/js/scripts.min.js></script></head><body><header><nav><a href=https://ingo-richter.io/>Home</a>
<a href=https://ingo-richter.io/about/>About</a>
<a href=https://ingo-richter.io/resume/resume.pdf>Resume</a>
<a href=https://ingo-richter.io/post/>Posts</a>
<a href=https://ingo-richter.io/cv19wfh/>CV19WFH</a>
<a href=https://ingo-richter.io/wallpaper/>Wallpaper</a>
<a href=https://ingo-richter.io/categories/>Categories</a>
<a href=https://ingo-richter.io/now/>Now</a>
<a href=https://ingo-richter.io/index.xml><svg class="icon" viewBox="0 0 448 512"><path d="M0 64C0 46.3 14.3 32 32 32c229.8.0 416 186.2 416 416 0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96 14.3 96 0 81.7.0 64zM0 416a64 64 0 11128 0A64 64 0 110 416zM32 160c159.1.0 288 128.9 288 288 0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224-17.7.0-32-14.3-32-32s14.3-32 32-32z"/></svg>
RSS</a></nav><h1>Effective Git - Worktrees</h1><p>Worktrees can save time switching between different feature branches</p></header><main><content class=published-date>Published on <time datetime=2017-05-10T21:19:27-07:00>Wednesday, May 10, 2017</time>
</content><content><p>You know this situation: you are working on new feature branch of your product. A bunch of files has been changed, nothing has settled yet and lots of uncommitted changes. This is how work in progress looks like. Everything could be alright, but then you are asked to check out that high priority issue that a customer reported.</p><p>What I did in this situation</p><ul><li>stash my changes with <code>git stash save</code> and provide a meaningful message for when I have to unstash- my changes</li><li>changes branches and pull from master</li><li>build the product</li><li>repro the issue</li><li>create a new branch for the fix</li><li>implement the fix and push to the newly created branch</li><li>let somebody else verify the fix</li><li>go back to my previous branch</li><li><code>git stash pop</code> my work in progress</li><li>continue working on the feature</li></ul><h2 id=introducing-worktrees>Introducing Worktrees</h2><p>I was reading git release notes, and I stumbled upon something I haven’t heard before in the git context: worktree. It’s not a new feature. It was introduced back in 2015, but I discovered it a couple of weeks ago. It reminded me of the time when I used Perforce, and I had to create a Workspace for everything I was working on (okay, it wasn’t that bad).</p><p>The help for <code>git help worktree</code> gives you a very short summary of some operations available for worktrees.</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">1</span><span>NAME
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">2</span><span>       git-worktree - Manage multiple working trees
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">3</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">4</span><span>SYNOPSIS
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">5</span><span>       git worktree add <span style=color:#89dceb;font-weight:700>[</span>-f<span style=color:#89dceb;font-weight:700>]</span> <span style=color:#89dceb;font-weight:700>[</span>--detach<span style=color:#89dceb;font-weight:700>]</span> <span style=color:#89dceb;font-weight:700>[</span>--checkout<span style=color:#89dceb;font-weight:700>]</span> <span style=color:#89dceb;font-weight:700>[</span>--lock<span style=color:#89dceb;font-weight:700>]</span> <span style=color:#89dceb;font-weight:700>[</span>-b &lt;new-branch&gt;<span style=color:#89dceb;font-weight:700>]</span> &lt;path&gt; <span style=color:#89dceb;font-weight:700>[</span>&lt;branch&gt;<span style=color:#89dceb;font-weight:700>]</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">6</span><span>       git worktree list <span style=color:#89dceb;font-weight:700>[</span>--porcelain<span style=color:#89dceb;font-weight:700>]</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">7</span><span>       git worktree lock <span style=color:#89dceb;font-weight:700>[</span>--reason &lt;string&gt;<span style=color:#89dceb;font-weight:700>]</span> &lt;worktree&gt;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">8</span><span>       git worktree prune <span style=color:#89dceb;font-weight:700>[</span>-n<span style=color:#89dceb;font-weight:700>]</span> <span style=color:#89dceb;font-weight:700>[</span>-v<span style=color:#89dceb;font-weight:700>]</span> <span style=color:#89dceb;font-weight:700>[</span>--expire &lt;expire&gt;<span style=color:#89dceb;font-weight:700>]</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f849c">9</span><span>       git worktree unlock &lt;worktree&gt;</span></span></code></pre></div><p>Sounds interesting to me. Let’s check it out.</p><p>IMHO worktrees have a couple of advantages over another git clone:</p><ul><li>less space wasted with another clone of the same repo</li><li>easier to compare files between different worktrees</li><li>work on multiple branches of the same repo without the hassle of messing everything up when switching branches (this happened a lot for me in the past)</li></ul><blockquote><p>BTW: the current project directory is a worktree too.</p></blockquote><p>There might be other good solutions to support that sort of workflows. Git is versatile and powerful. It has a lot to offer, and there are so many different ways to achieve the same result. Worktrees are a great addition, and they make good sense. Your mileage may vary.</p><p>Thanks for reading!</p><p>Feel free to share, leave a comment or ignore it.</p></content><p><a href=https://ingo-richter.io/blog/git/>#Git</a>&nbsp;&nbsp;
<a href=https://ingo-richter.io/blog/programming/>#Programming</a>&nbsp;&nbsp;
<a href=https://ingo-richter.io/blog/tips/>#Tips</a>&nbsp;&nbsp;
<a href=https://ingo-richter.io/blog/tricks/>#Tricks</a>&nbsp;&nbsp;
<a href=https://ingo-richter.io/blog/tools/>#Tools</a>&nbsp;&nbsp;
<a href=https://ingo-richter.io/blog/til/>#TIL</a>&nbsp;&nbsp;</p><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//ingorichterio.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></main><footer><span>© 2025 Ingo Richter</span>
<span>|
Made with
<a href=https://github.com/maolonglong/hugo-simple/>Hugo ʕ•ᴥ•ʔ Simple</a></span></footer><script id=analytics async src=https://umami.familie-richter.de/script.js data-website-id=98a5f2cb-a53b-4d84-9133-bac4957e9e9f></script></body></html>